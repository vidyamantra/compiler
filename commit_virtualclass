 #!/bin/sh

BASEDIR="/var/www/html/virtualclass"

java -jar /var/www/html/compiler/compiler.jar --compilation_level SIMPLE_OPTIMIZATIONS --warning_level QUIET --rewrite_polyfills=false  --language_in=ECMASCRIPT_2017 --language_out=ECMASCRIPT_2017 \
--js $BASEDIR/src/worker/screendecode.js \
--js $BASEDIR/src/worker/screenworker.js \
--js $BASEDIR/src/worker/storage-array-base64-converter.js \
--js $BASEDIR/src/worker/worker-io.js \
--js $BASEDIR/src/worker/worker-audio-rec.js \
--js $BASEDIR/src/worker/worker-audio-send.js \
--js $BASEDIR/src/worker/worklet-audio-rec.js \
--js $BASEDIR/src/worker/worklet-audio-send.js \
--js $BASEDIR/src/worker/webptopng.js \
--js $BASEDIR/src/io.js \
--js $BASEDIR/src/modernizr.js \
--js $BASEDIR/src/roles.js \
--js $BASEDIR/src/io-storage.js \
--js $BASEDIR/src/io-missing-packets.js \
--js $BASEDIR/src/io-adapter.js \
--js $BASEDIR/src/io-ping-pong.js \
--js $BASEDIR/src/virtualclass.js \
--js $BASEDIR/src/whiteboard-canvas.js \
--js $BASEDIR/src/whiteboard.js \
--js $BASEDIR/src/whiteboard-utility.js \
--js $BASEDIR/src/lang-en.js \
--js $BASEDIR/src/lang.js \
--js $BASEDIR/src/view.js \
--js $BASEDIR/src/environment-validation.js \
--js $BASEDIR/src/whiteboard-packetcontainer.js \
--js $BASEDIR/src/whiteboard-drawobject.js \
--js $BASEDIR/src/whiteboard-make-object.js \
--js $BASEDIR/src/whiteboard-canvas-utility.js \
--js $BASEDIR/src/whiteboard-canvas-main.js \
--js $BASEDIR/src/whiteboard-events.js \
--js $BASEDIR/src/whiteboard-virtualbox.js \
--js $BASEDIR/src/whiteboard-interact.js \
--js $BASEDIR/src/whiteboard-rectangle.js \
--js $BASEDIR/src/whiteboard-oval.js \
--js $BASEDIR/src/whiteboard-triangle.js \
--js $BASEDIR/src/whiteboard-line.js \
--js $BASEDIR/src/whiteboard-text.js \
--js $BASEDIR/src/whiteboard-freedrawing.js \
--js $BASEDIR/src/whiteboard-path.js \
--js $BASEDIR/src/whiteboard-mouse.js \
--js $BASEDIR/src/whiteboard-readyfreehandobj.js \
--js $BASEDIR/src/whiteboard-refresh-play.js \
--js $BASEDIR/src/whiteboard-readytextobj.js \
--js $BASEDIR/src/whiteboard-keyboard.js \
--js $BASEDIR/src/webrtc-adapter.js \
--js $BASEDIR/src/audio-resampler.js \
--js $BASEDIR/src/media.js \
--js $BASEDIR/src/pptshare.js \
--js $BASEDIR/src/whiteboard-packet-queue.js \
--js $BASEDIR/src/whiteboard-optimization.js \
--js $BASEDIR/src/receive-messages-response.js \
--js $BASEDIR/src/lzstring.js \
--js $BASEDIR/src/audio-codec-g711.js \
--js $BASEDIR/src/screenshare-getscreen.js \
--js $BASEDIR/src/screenshare-dirtycorner.js \
--js $BASEDIR/src/utility.js \
--js $BASEDIR/src/screenshare.js \
--js $BASEDIR/src/record-play.js \
--js $BASEDIR/src/indexeddb-storage.js \
--js $BASEDIR/src/footer-control-user.js \
--js $BASEDIR/src/xhr.js \
--js $BASEDIR/src/xhrn.js \
--js $BASEDIR/src/popup.js \
--js $BASEDIR/src/storage-array-base64-converter.js \
--js $BASEDIR/src/progressbar.js \
--js $BASEDIR/src/ot-server.js \
--js $BASEDIR/src/editor-utils.js \
--js $BASEDIR/src/editor-rich-toolbar.js \
--js $BASEDIR/src/editor-text-op.js \
--js $BASEDIR/src/ot-text-operation.js \
--js $BASEDIR/src/ot-wrapped-operation.js \
--js $BASEDIR/src/ot-cursor.js \
--js $BASEDIR/src/ot-undo-manager.js \
--js $BASEDIR/src/ot-client.js \
--js $BASEDIR/src/ot-editor-client.js \
--js $BASEDIR/src/editor-span.js \
--js $BASEDIR/src/editor-annotation-list.js \
--js $BASEDIR/src/editor-attribute-constants.js \
--js $BASEDIR/src/editor-line-formatting.js \
--js $BASEDIR/src/editor-serialize-html.js \
--js $BASEDIR/src/editor-parse-html.js \
--js $BASEDIR/src/ot-codemirror-adapter.js \
--js $BASEDIR/src/ot-adapter.js \
--js $BASEDIR/src/vceditor.js \
--js $BASEDIR/src/editor.js \
--js $BASEDIR/src/chat.js \
--js $BASEDIR/src/chat-footer.js \
--js $BASEDIR/src/jquery.ui.chatlist.js \
--js $BASEDIR/src/jquery.ui.chatbox.js \
--js $BASEDIR/src/jquery.ui.chatroom.js \
--js $BASEDIR/src/chat-boxManager.js \
--js $BASEDIR/src/chat-lib.js \
--js $BASEDIR/src/chat-lang.en.js \
--js $BASEDIR/src/precheck.js \
--js $BASEDIR/src/video-base64.min.js \
--js $BASEDIR/src/video-ajax.js \
--js $BASEDIR/src/video-script.js \
--js $BASEDIR/src/video-host.js \
--js $BASEDIR/src/poll.js \
--js $BASEDIR/src/dashboard.js \
--js $BASEDIR/src/upload-video.js \
--js $BASEDIR/src/congrea-uploader.js \
--js $BASEDIR/src/page.js \
--js $BASEDIR/src/document-share.js \
--js $BASEDIR/src/quiz.js \
--js $BASEDIR/src/doNotesMain.js \
--js $BASEDIR/src/multi-video.js \
--js $BASEDIR/src/zoom.js \
--js $BASEDIR/src/pdf-render.js \
--js $BASEDIR/src/whiteboard-common.js \
--js $BASEDIR/src/server-data.js \
--js $BASEDIR/src/api.js \
--js $BASEDIR/src/raise-hand.js \
--js $BASEDIR/src/color-selector.js \
--js $BASEDIR/src/app-settings.js \
--js $BASEDIR/src/network.js \
--js $BASEDIR/src/gesture.js \
--js $BASEDIR/src/page-navigation.js \
--js $BASEDIR/src/chat-container-event.js \
--js $BASEDIR/src/mic-testing.js \
--js $BASEDIR/src/common-xhr.js \
--js $BASEDIR/src/settings.js \
--js $BASEDIR/src/idb.js \
--js $BASEDIR/src/modal.js \
--js $BASEDIR/src/user-join-operation.js \
--js $BASEDIR/src/io-event-api.js \
--js $BASEDIR/src/receive-function.js \
--js $BASEDIR/src/config.js \
--js $BASEDIR/src/bootstrap.js \
--js $BASEDIR/src/index.js \
--create_source_map $BASEDIR/build/src/wb-map \
--source_map_format=V3 \
--source_map_location_mapping="/var/www/html/virtualclass/src/|https://live.congrea.net/virtualclass/src/" \
--output_wrapper "%output%
//# sourceMappingURL=https://live.congrea.net/virtualclass/build/src/wb-map" \
--js_output_file $BASEDIR/build/src/wb.min.js 

java -jar /var/www/html/compiler/compiler.jar --compilation_level SIMPLE_OPTIMIZATIONS  --warning_level QUIET --rewrite_polyfills=false  --language_in=ECMASCRIPT_2017 --language_out=ECMASCRIPT_2017 \
--js $BASEDIR/src/audio-resampler.js \
--js $BASEDIR/src/audio-codec-g711.js \
--create_source_map $BASEDIR/build/src/audio-map \
--source_map_format=V3 \
--source_map_location_mapping="/var/www/html/virtualclass/build/src/|https://live.congrea.net/virtualclass/build/src/" \
--output_wrapper "%output%
//# sourceMappingURL=https://live.congrea.net/virtualclass/build/src/audio-g711" \
--js_output_file $BASEDIR/build/src/audio-g711-and-resampler.min.js
